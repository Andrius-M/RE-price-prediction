import numpy as np
from flask import Flask,render_template,request
import pickle

app = Flask(__name__)
model = pickle.load(open('RE_model.pkl', 'rb'))

districts = np.array([
       ['District', 0],
       ['Antakalnis', 11.591197218533587],
       ['Aukštieji Paneriai', 10.374063137204834],
       ['Bajorai', 11.425341909315424],
       ['Balsiai', 11.53495431255937],
       ['Baltupiai', 11.348734648535787],
       ['Bukiškio k.', 10.659266496941047],
       ['Burbiškės', 11.526202004190836],
       ['Didieji Gulbinai', 11.467125942832858],
       ['Fabijoniškės', 11.251597616966386],
       ['Filaretai', 11.863331668191742],
       ['Grigiškės', 10.816724495346504],
       ['Jeruzalė', 11.550038919738164],
       ['Justiniškės', 11.266263621013382],
       ['Kalnėnai', 11.563273522737832],
       ['Karoliniškės', 11.205989386081566],
       ['Lazdynai', 11.231463069689397],
       ['Lazdynėliai', 11.45231635148232],
       ['Liepkalnis', 11.609353223928496],
       ['Markučiai', 11.446353991205266],
       ['Naujamiestis', 11.524574487659702],
       ['Naujininkai', 10.759769275720197],
       ['Naujoji Vilnia', 10.600409718660547],
       ['Paneriai', 11.277171837014079],
       ['Pavilnys', 11.40557353004017],
       ['Pašilaičiai', 11.31767806404345],
       ['Pilaitė', 11.407107383809372],
       ['Rasos', 11.200031944754073],
       ['Salininkai', 10.675535901772703],
       ['Santariškės', 11.663249252925686],
       ['Saulėtekis', 12.040041935612374],
       ['Senamiestis', 12.142375172408215],
       ['Tarandė', 11.461918600216034],
       ['Trakų Vokė', 10.733006610740398],
       ['Turniškės', 12.049730300981834],
       ['Užupis', 11.868578420720672],
       ['Valakampiai', 12.136659866868275],
       ['Verkiai', 11.530906480967737],
       ['Vilkpėdė', 11.038680619939495],
       ['Viršuliškės', 11.249459196190687],
       ['Visoriai', 11.579487029925748],
       ['Šeškinė', 11.231658992059623],
       ['Šiaurės miestelis', 11.60123573615189],
       ['Šnipiškės', 11.558364750232746],
       ['Žemieji Paneriai', 10.741582702253007],
       ['Žirmūnai', 11.41502948428948],
       ['Žvėrynas', 11.936302117132536]])
streets = np.array([
       ['Street', 0],
       ['A. Goštauto g.', 11.902058788180048],
       ['A. Jakšto g.', 12.25224537133022],
       ['A. Jaroševičiaus g.', 10.634388027008727],
       ['A. Juozapavičiaus g.', 11.89653580998168],
       ['A. Kojelavičiaus g.', 11.159114363905033],
       ['A. Mickevičiaus g.', 12.161859878249338],
       ['A. Rotundo g.', 12.473417568984212],
       ['A. Smetonos g.', 11.988789023568899],
       ['A. Strazdelio g.', 11.490296793765552],
       ['A. Stulginskio g.', 12.251948666613215],
       ['A. Vienuolio g.', 11.937612458997997],
       ['A. Vivulskio g.', 11.520585310443057],
       ['Aguonų g.', 12.263010813713002],
       ['Akmenų g.', 12.541950300545947],
       ['Albanų g.', 11.439325129424498],
       ['Algimanto Petro Kavoliuko g.', 11.201254860804706],
       ['Algirdo g.', 11.387042839557107],
       ['Aludarių g.', 11.964289212572453],
       ['Ankštoji g.', 12.211669183986736],
       ['Antakalnio g.', 11.323722416949638],
       ['Antano Tumėno g.', 13.187075918152225],
       ['Apkasų g.', 11.001413517961351],
       ['Apolinaro Juozo Povilaičio g.', 11.061423136467642],
       ['Apynių g.', 11.028781124181872],
       ['Architektų g.', 11.075331784102362],
       ['Arklių g.', 12.419686634590434],
       ['Ateities g.', 11.221731931695105],
       ['Aukštaičių g.', 12.042820783598167],
       ['Aušros Vartų g.', 11.643319442799353],
       ['Bajorų Sodų 17-oji g.', 11.490296793765552],
       ['Bajorų kel.', 11.415070144235933],
       ['Baltasis skg.', 12.45082757268417],
       ['Baltupio g.', 11.423981202878842],
       ['Balžio g.', 12.091462682179479],
       ['Baravykų g.', 11.490296793765552],
       ['Bazilijonų g.', 12.18454857947013],
       ['Bernardinų g.', 12.378321845269829],
       ['Birutės g.', 11.917999763475366],
       ['Birželio 23-iosios g.', 11.358679135775104],
       ['Bistryčios g.', 11.68021105328957],
       ['Bitininkų g.', 11.24846897663015],
       ['Bitėnų g.', 11.432474836921783],
       ['Bičiulių g.', 11.177740894606059],
       ['Bokšto g.', 12.43296408662088],
       ['Braškių g.', 11.490296793765552],
       ['Brolių g.', 11.168425748544722],
       ['Budiniškių g.', 11.222558767281846],
       ['Buivydiškių g.', 11.01782836504836],
       ['Bukčių g.', 11.633735696511168],
       ['Burbiškių g.', 11.44760813206596],
       ['Ceikinių g.', 11.712492033059306],
       ['Centrinė g.', 11.490296793765552],
       ['Danielių g.', 12.127790805071223],
       ['Darbininkų g.', 10.826219348070174],
       ['Dariaus Gerbutavičiaus g.', 11.293430909389857],
       ['Dariaus ir Girėno g.', 10.497458076336336],
       ['Darželio g.', 10.443692703969436],
       ['Daugėliškio g.', 11.382800807085632],
       ['Daujoto g.', 11.412987739273374],
       ['Debesijos g.', 11.188098155595421],
       ['Deltuvos g.', 11.637849520498628],
       ['Didlaukio g.', 11.253784431656104],
       ['Didžioji g.', 12.326427449130245],
       ['Dociškių g.', 11.62201597778548],
       ['Duburio g.', 11.296211492734251],
       ['Dzūkų g.', 10.795505631388185],
       ['Dūkštų g.', 11.128459873459981],
       ['Dūmų g.', 10.576723399802942],
       ['Eglių g.', 11.498348742228238],
       ['Eitminų g.', 11.3613458635899],
       ['Eišiškių pl.', 11.363082973130803],
       ['Elbingo g.', 11.699642762605592],
       ['Elniakampio g.', 11.979790381875443],
       ['Elnių g.', 11.861622425267052],
       ['Erfurto g.', 11.168348842030307],
       ['Fabijoniškių g.', 11.299781364166897],
       ['Filaretų g.', 11.831121228291405],
       ['Fizikų g.', 11.685670237167878],
       ['Gabijos g.', 11.343656304779351],
       ['Gedimino pr.', 12.330756054150163],
       ['Gedvydžių g.', 11.223926501235017],
       ['Geležinio Vilko g.', 10.639396916771686],
       ['Geležinkelio g.', 11.70024037273729],
       ['Gelvonų g.', 11.15691001147672],
       ['Genių g.', 10.887755435558969],
       ['Gerosios Vilties g.', 10.994241257009971],
       ['Gerovės g.', 11.004416312217796],
       ['Giedraičių g.', 11.352799853537746],
       ['Gilužio g.', 11.385828258062627],
       ['Girulių g.', 11.333563165260765],
       ['Gudų g.', 11.584241477093055],
       ['Gurių g.', 11.782645800594622],
       ['Gynėjų g.', 11.97806213621019],
       ['Gėlių g.', 11.189089497615326],
       ['I. Kanto al.', 11.311222088619225],
       ['I. Simonaitytės g.', 11.568680803867503],
       ['Iešmininkų g.', 10.25284028919766],
       ['Igno Šimulionio g.', 11.746530789537136],
       ['Išganytojo g.', 11.490296793765552],
       ['J. Basanavičiaus g.', 11.990119881240702],
       ['J. Franko g.', 11.981644161359341],
       ['J. Galvydžio g.', 11.490296793765552],
       ['J. Jasinskio g.', 11.996770401102061],
       ['J. Kubiliaus g.', 11.47507282296841],
       ['J. Tiškevičiaus g.', 10.660897940327692],
       ['Jaunimo skg.', 10.24005523718456],
       ['Jeronimo Ralio g.', 11.183875108191367],
       ['Jeruzalės g.', 11.23820661843042],
       ['Jogailos g.', 11.550109288851354],
       ['Jonažolių g.', 11.67670624318656],
       ['Jono Kairiūkščio g.', 11.370124638687086],
       ['Juodšilių g.', 10.493167038645753],
       ['Juozo Balčikonio g.', 11.672969651734999],
       ['Jurgio Baltrušaičio g.', 11.51482992543352],
       ['Jurgio Lebedžio g.', 11.3251492507277],
       ['Jurgio Matulaičio a.', 11.981249668002302],
       ['Justiniškių g.', 11.248295409268774],
       ['K. Donelaičio g.', 11.490296793765552],
       ['K. Kalinausko g.', 12.469252888145547],
       ['K. Semenavičiaus g.', 11.89044697050255],
       ['Kalno g.', 11.450662628219586],
       ['Kalvarijų g.', 10.992526622284538],
       ['Kalviškių g.', 11.490296793765552],
       ['Kaminkelio g.', 11.563102707315592],
       ['Kanuto Rusecko g.', 11.694793719271727],
       ['Kapsų g.', 11.05009508360924],
       ['Karaliaučiaus g.', 11.420840959755846],
       ['Karačiūnų g.', 11.490296793765552],
       ['Kareivių g.', 10.98377231636692],
       ['Karių Kapų g.', 11.490296793765552],
       ['Karklėnų g.', 11.249302325794742],
       ['Kaukysos g.', 11.71697081793257],
       ['Kauno g.', 11.417865692521858],
       ['Kazimiero Jelskio g.', 12.312408869128475],
       ['Kazimiero Ladygos g.', 11.652093583846806],
       ['Kazio Borutos g.', 11.371205034223328],
       ['Kazio Ulvydo g.', 11.709692969360175],
       ['Kazliškių g.', 11.490296793765552],
       ['Kaštonų g.', 12.239792467500102],
       ['Kašubų g.', 11.419969250129048],
       ['Kedrų g.', 10.713846115687065],
       ['Kernavės g.', 11.62451291952573],
       ['Kintų g.', 11.528085448128415],
       ['Kirtavietės g.', 11.490296793765552],
       ['Klaipėdos g.', 12.490912825079718],
       ['Klinikų g.', 11.392647222926584],
       ['Konduktorių g.', 10.549835352020828],
       ['Konstitucijos pr.', 12.32057038629509],
       ['Kovo 11-osios g.', 11.103179777505751],
       ['Kreivasis skg.', 12.232551228192806],
       ['Krivių g.', 12.168127900530001],
       ['Krivūlės g.', 11.74578043463743],
       ['Kroatų g.', 11.539504744110808],
       ['Krokuvos g.', 11.618601814104661],
       ['Kruopų g.', 11.490296793765552],
       ['Krėvos g.', 11.490296793765552],
       ['Kunigiškių g.', 10.805130731344121],
       ['Kuosų g.', 11.630831959196229],
       ['Kučkuriškių g.', 11.490296793765552],
       ['Kviečių g.', 11.605130526366208],
       ['Kęstučio g.', 11.073926691807964],
       ['L. Giros g.', 11.190220586055933],
       ['L. Sapiegos g.', 11.69225338247624],
       ['L. Stuokos-Gucevičiaus g.', 12.31337257230915],
       ['Labdarių g.', 12.58954424132043],
       ['Laisvės pr.', 11.29770794806966],
       ['Lapų g.', 12.351839749995744],
       ['Latako g.', 11.814457133264515],
       ['Latvių g.', 12.303354848830747],
       ['Lazdynėlių g.', 11.362584225651547],
       ['Lazdynų g.', 11.028594935275606],
       ['Leičių g.', 11.25112278382741],
       ['Liejyklos g.', 11.865814893613997],
       ['Liepkalnio g.', 11.409922720142989],
       ['Lietaus g.', 11.490296793765552],
       ['Ligoninės g.', 11.977546397814566],
       ['Linkmenų g.', 11.693373775395836],
       ['Linksmoji g.', 11.136489401659981],
       ['Liudviko Zamenhofo g.', 11.445882837457862],
       ['Liudvinavo g.', 10.491912243556628],
       ['Lizdeikos g.', 11.441363635089871],
       ['Loretos Asanavičiūtės g.', 10.998350111586408],
       ['Lukšinės g.', 11.332920803812087],
       ['Lvovo g.', 11.610203280919793],
       ['Lydos g.', 12.559054784568538],
       ['Lyvių g.', 11.490296793765552],
       ['Lūjos g.', 11.490296793765552],
       ['M. Daukšos g.', 11.16039781678288],
       ['M. Jankaus g.', 11.533321263223302],
       ['M. K. Oginskio g.', 11.490296793765552],
       ['M. K. Čiurlionio g.', 12.49429104983451],
       ['M. Katkaus g.', 11.626880409720563],
       ['M. Mažvydo g.', 11.393707520709972],
       ['M. Mironaitės g.', 11.603549477509407],
       ['M. Pretorijaus g.', 11.685076471333218],
       ['Maironio g.', 11.490296793765552],
       ['Malonioji g.', 11.648220669000702],
       ['Malūnų g.', 12.255953400786536],
       ['Manufaktūrų g.', 11.638748849577121],
       ['Markučių g.', 12.624931152250804],
       ['Medeinos g.', 11.175318847136344],
       ['Meistrų g.', 11.490296793765552],
       ['Meldų g.', 11.736984769977644],
       ['Miglos g.', 11.432142783726098],
       ['Mindaugo g.', 12.002134523956933],
       ['Minties g.', 11.256439347192922],
       ['Miškinių g.', 12.228762338377718],
       ['Mokslininkų g.', 11.164177397496667],
       ['Mokyklos g.', 10.897671848422343],
       ['Molėtų pl.', 11.155947897795697],
       ['Mozūriškių g.', 11.490296793765552],
       ['Musninkų g.', 11.115617370464022],
       ['Mykolo Lietuvio g.', 11.490296793765552],
       ['Mykolo Marcinkevičiaus g.', 11.742195874605008],
       ['Mykolo Sleževičiaus g.', 11.32285281813685],
       ['Naugarduko g.', 11.577708046479058],
       ['Naujakiemio g.', 12.164611835473186],
       ['Naujininkų g.', 11.490296793765552],
       ['Nemenčinės pl.', 12.184999691079152],
       ['Neries g.', 11.490296793765552],
       ['Neužmirštuolių g.', 11.656617709523971],
       ['Nidos g.', 11.57775069047998],
       ['Noragiškių g.', 11.490296793765552],
       ['Norvegų g.', 11.743455468636325],
       ['Nugalėtojų g.', 12.608884766388776],
       ['O. Milašiaus g.', 11.504492772386726],
       ['Odminių g.', 12.578658712949174],
       ['Olandų g.', 11.227083760401573],
       ['Olimpiečių g.', 12.577811394773462],
       ['Onos Miciūtės g.', 11.692565536734886],
       ['Ozo g.', 11.41737704957548],
       ['P. Vileišio g.', 11.677180022292164],
       ['P. Žadeikos g.', 11.310514429698884],
       ['Paberžės g.', 11.100995235020198],
       ['Pajautos g.', 11.23927105418371],
       ['Pakalnės g.', 11.490296793765552],
       ['Pakarvių g.', 11.363773888055677],
       ['Pakraščio g.', 11.490296793765552],
       ['Pamėnkalnio g.', 11.932814309655694],
       ['Panerių g.', 11.129759982442014],
       ['Panevėžio g.', 11.11552028850296],
       ['Papilėnų g.', 11.188662484276021],
       ['Paplaujos g.', 12.335450306085713],
       ['Paribio g.', 11.913389987897217],
       ['Parko g.', 10.705066444690395],
       ['Paupio g.', 11.541056782670866],
       ['Pavilnionių g.', 11.336553603384464],
       ['Pašilaičių g.', 11.374905661649796],
       ['Pašto g.', 11.038689552829014],
       ['Pelesos g.', 10.371282911365046],
       ['Pergalės g.', 10.35733557243963],
       ['Perkūnkiemio g.', 11.324441484862144],
       ['Perlojos g.', 11.490296793765552],
       ['Peteliškių g.', 12.070125947620976],
       ['Pilies g.', 11.599524982447306],
       ['Pilkalnio g.', 11.370455582807127],
       ['Piromonto g.', 11.91962149355738],
       ['Plačioji g.', 12.048355213289575],
       ['Plytinės g.', 11.82429783064971],
       ['Polocko g.', 11.750641716195496],
       ['Pramonės g.', 10.056199782716615],
       ['Pranciškonų g.', 11.490296793765552],
       ['Priegliaus g.', 11.56475639707541],
       ['Prūsų g.', 10.431145638685605],
       ['Pupinės g.', 10.643854030370541],
       ['Pušų g.', 12.248854467817985],
       ['Pylimo g.', 11.986756839896241],
       ['Pylimėlių g.', 11.785614477224485],
       ['Raitininkų g.', 12.023954697292666],
       ['Rato g.', 11.951629346240663],
       ['Raugyklos g.', 12.07837727634486],
       ['Ribiškių Didžioji g.', 11.490296793765552],
       ['Rinktinės g.', 11.838775729880203],
       ['Rodūnios kel.', 9.995014186213774],
       ['Rolando Jankausko g.', 11.108979209383522],
       ['Rudaminos g.', 10.686023367662804],
       ['Rudens g.', 12.065614674039837],
       ['Rudnios g.', 11.490296793765552],
       ['Rugių g.', 11.698927719847244],
       ['Rygos g.', 11.268298643232129],
       ['Rūdninkų g.', 12.716262032041104],
       ['Rūko g.', 11.42602416602829],
       ['Rūtų g.', 12.819004615604324],
       ['S. Fino g.', 11.490296793765552],
       ['S. Konarskio g.', 11.529590142961283],
       ['S. Moniuškos g.', 11.687016181514762],
       ['S. Skapo g.', 12.1028332794659],
       ['S. Stanevičiaus g.', 11.2615143033211],
       ['S. Žukausko g.', 11.810491254943495],
       ['Salaspilio g.', 11.581842484748602],
       ['Salininkų g.', 11.490296793765552],
       ['Salomėjos Nėries g.', 11.196740774272424],
       ['Salotės g.', 11.81994518111731],
       ['Saltoniškių g.', 12.19800378742095],
       ['Santariškių g.', 11.8260358749099],
       ['Saulenių g.', 11.215486598588072],
       ['Sauluvos g.', 11.490296793765552],
       ['Saulės g.', 11.817281349907159],
       ['Saulėtekio al.', 12.031029391518459],
       ['Sausio 13-osios g.', 11.441268636176623],
       ['Savanorių pr.', 10.972829103757782],
       ['Savičiaus g.', 12.519394339199025],
       ['Sibiro g.', 11.490296793765552],
       ['Siesikų g.', 11.571935024055445],
       ['Sietyno g.', 11.06254010245186],
       ['Simono Grunau g.', 11.217974572774756],
       ['Skroblų g.', 10.57279873061801],
       ['Sluškų g.', 11.490296793765552],
       ['Smalinės g.', 11.235721897106707],
       ['Smolensko g.', 11.548661636757238],
       ['Smėlio g.', 11.790589318940626],
       ['Sodų g.', 11.793190922414553],
       ['Spaudos g.', 11.28672197998578],
       ['Speigo g.', 11.490296793765552],
       ['Sporto g.', 12.135403152572785],
       ['Stasio Lozoraičio g.', 11.52655451152302],
       ['Statybininkų g.', 11.65497584703702],
       ['Stiklių g.', 12.904709814846308],
       ['Stirnų g.', 11.88116160003248],
       ['Stumbrų g.', 11.957114007127595],
       ['Subačiaus g.', 11.112996036852579],
       ['Suvalkų g.', 10.825869651893337],
       ['Svajonių g.', 12.085115926255318],
       ['Sviliškių g.', 11.472059970019574],
       ['Sėlių g.', 11.530367458447778],
       ['Sūduvių g.', 11.652238317520645],
       ['T. Kosciuškos g.', 12.40573879657083],
       ['T. Vrublevskio g.', 12.527985749060988],
       ['T. Ševčenkos g.', 11.623125056089911],
       ['Taikos g.', 11.232319418869363],
       ['Tarandės g.', 11.206481886719814],
       ['Taurijos g.', 11.16998142632442],
       ['Teatro g.', 13.015905487853974],
       ['Tilto g.', 11.907851126534583],
       ['Titnago g.', 10.768302264361026],
       ['Tolminkiemio g.', 11.350802712578774],
       ['Toluvos g.', 11.263212487756778],
       ['Totorių g.', 12.27825378279485],
       ['Trakėnų g.', 11.515368494862974],
       ['Trakų g.', 12.37914515287557],
       ['Trinapolio g.', 11.681375469050746],
       ['Turniškių g.', 11.996944346331361],
       ['Tuskulėnų g.', 11.360842443602296],
       ['Tvankstos g.', 11.395480124871943],
       ['Tverečiaus g.', 11.291451285822841],
       ['Tyzenhauzų g.', 11.08187235861415],
       ['Ukmergės g.', 11.280283742410072],
       ['Ulonų g.', 11.668799325103217],
       ['Užpalių g.', 11.490296793765552],
       ['Užupio g.', 12.18455843416585],
       ['V. Grybo g.', 11.470549362520773],
       ['V. Pietario g.', 10.925308859233542],
       ['V. Sezemano g.', 11.490296793765552],
       ['V. Sirokomlės g.', 11.490296793765552],
       ['V. Šopeno g.', 11.584996048707291],
       ['Vaduvos g.', 10.638459846167352],
       ['Vaidilutės g.', 12.04113356996554],
       ['Vaikų g.', 10.51257783963184],
       ['Valtarkiemio g.', 11.33389432672242],
       ['Vandentiekio g.', 10.943647852829018],
       ['Vašingtono a.', 12.27074913850489],
       ['Verkių g.', 11.68787123517852],
       ['Vido Maciulevičiaus g.', 10.96069301824126],
       ['Vilkpėdės g.', 11.61018169845465],
       ['Vilniaus g.', 11.52112483390652],
       ['Vinco Kudirkos g.', 12.022255779385299],
       ['Vingrių g.', 11.889439753068261],
       ['Virbeliškių g.', 11.567447429873482],
       ['Virginijaus Druskio g.', 10.789835607754464],
       ['Viršilų g.', 11.615935772592092],
       ['Viršuliškių g.', 11.155831949218978],
       ['Viržių g.', 11.490296793765552],
       ['Visorių g.', 11.39761692562996],
       ['Visų Šventųjų g.', 11.490296793765552],
       ['Vito Gerulaičio g.', 11.550518812598074],
       ['Vokiečių g.', 12.340211133950557],
       ['Volungės g.', 11.281605596343386],
       ['Vydūno g.', 11.295647280249801],
       ['Vykinto g.', 11.490296793765552],
       ['Vytauto Vaitkaus g.', 11.092071003341022],
       ['Vytauto g.', 11.719778962174322],
       ['Vytauto Žalakevičiaus g.', 12.149126194943781],
       ['Vytenio g.', 11.303392142843379],
       ['Z. Sierakausko g.', 12.48343709766986],
       ['Zanavykų g.', 11.140971131626223],
       ['Č. Sugiharos g.', 11.850012791329224],
       ['Čiobiškio g.', 11.186936488836581],
       ['Įsruties g.', 11.250985918459625],
       ['Šaltinių g.', 11.895256599814868],
       ['Šaltkalvių g.', 10.503686998048503],
       ['Šarkuvos g.', 11.490296793765552],
       ['Šatrijos g.', 11.44789138646999],
       ['Šeimyniškių g.', 11.554144585873257],
       ['Šerkšno g.', 11.542508146041557],
       ['Šermukšnių g.', 11.490296793765552],
       ['Šeškinės Sodų g.', 11.673151606936269],
       ['Šeškinės g.', 11.173429433811107],
       ['Šešuolių g.', 11.01805354560416],
       ['Šešėlių g.', 11.490296793765552],
       ['Šiaulių g.', 12.518890744332237],
       ['Šilo g.', 12.043466896926331],
       ['Šilutės g.', 10.744195832180365],
       ['Širvintų g.', 11.245353731940568],
       ['Šv. Dvasios g.', 12.055732757740772],
       ['Šv. Ignoto g.', 11.490296793765552],
       ['Šv. Jono g.', 12.20361292649325],
       ['Šv. Mykolo g.', 12.342996047629832],
       ['Šv. Stepono g.', 11.739767576865072],
       ['Šventeliškių g.', 11.490296793765552],
       ['Šviesos g.', 11.05028199963922],
       ['Švitrigailos g.', 11.43500183493115],
       ['Švyturio g.', 11.476131314585908],
       ['Ūmėdžių g.', 11.700615870173642],
       ['Žalgirio g.', 11.738848521684515],
       ['Žaliųjų Ežerų g.', 11.05842795819075],
       ['Želmenų g.', 11.700556105869984],
       ['Žemaitijos g.', 11.831566620980674],
       ['Žemaitės g.', 11.05663036085141],
       ['Žemynos g.', 11.243604969011656],
       ['Žilvičių g.', 11.490296793765552],
       ['Žirgo g.', 11.69515872001169],
       ['Žirmūnų g.', 11.183836850524408],
       ['Žolyno g.', 10.666053071043276],
       ['Žvorūnos g.', 11.669970685426945],
       ['Žygimantų g.', 12.39612232239739],
       ['Žygio g.', 11.563962073637494],
       ['Žėručio g.', 10.9464596191759]])

@app.route('/')
def home():
    return render_template('index.html', dist=districts, str=streets)

@app.route('/predict_expenses',methods=['POST'])
def predict_expenses():
    #int_features = [int(x) for x in request.form.values()]
    int_features = [x for x in request.form.values()]
    final_features = [np.array(int_features)]

    if int(final_features[0][0]) >= 2000:
        final_features[0][6] = 1
        final_features[0][7] = 0
        final_features[0][8] = 0
        final_features[0][9] = 0
        final_features[0][10] = 0
    elif (int(final_features[0][0]) >= 1980) & (int(final_features[0][0]) < 2020):
        final_features[0][6] = 0
        final_features[0][7] = 1
        final_features[0][8] = 0
        final_features[0][9] = 0
        final_features[0][10] = 0
    elif (int(final_features[0][0]) >= 1960) & (int(final_features[0][0]) < 1980):
        final_features[0][6] = 0
        final_features[0][7] = 0
        final_features[0][8] = 1
        final_features[0][9] = 0
        final_features[0][10] = 0
    elif (int(final_features[0][0]) >= 1940) & (int(final_features[0][0]) < 1960):
        final_features[0][6] = 0
        final_features[0][7] = 0
        final_features[0][8] = 0
        final_features[0][9] = 1
        final_features[0][10] = 0    
    else:
        final_features[0][6] = 0
        final_features[0][7] = 0
        final_features[0][8] = 0
        final_features[0][9] = 0
        final_features[0][10] = 1            
    
    prediction = model.predict(final_features)
    #output = round(prediction[0], 2)
    output = prediction[0]

    return render_template('index.html', prediction_text='Predicted price $ {}'.format(np.exp(output)), dist=districts, str=streets)

if __name__ == "__main__":
    app.run(debug=True)
